[{"D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\index.js":"1","D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\App.js":"2","D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\UserRegister.js":"3","D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\ceva1.js":"4","D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\NoteAddForm.js":"5","D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\NoteDetails.js":"6","D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\NoteStore.js":"7","D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\FileUpload.js":"8","D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\FileStore.js":"9"},{"size":207,"mtime":1610730549664,"results":"10","hashOfConfig":"11"},{"size":297,"mtime":1610730549660,"results":"12","hashOfConfig":"11"},{"size":5073,"mtime":1610730549664,"results":"13","hashOfConfig":"11"},{"size":2556,"mtime":1610750551911,"results":"14","hashOfConfig":"11"},{"size":1334,"mtime":1610730549662,"results":"15","hashOfConfig":"11"},{"size":817,"mtime":1610730549662,"results":"16","hashOfConfig":"11"},{"size":1547,"mtime":1610730549664,"results":"17","hashOfConfig":"11"},{"size":2699,"mtime":1610802358872,"results":"18","hashOfConfig":"11"},{"size":2731,"mtime":1610799403238,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"1vw9329",{"filePath":"23","messages":"24","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"22"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"22"},"D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\index.js",[],["43","44"],"D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\App.js",["45","46","47"],"import \"./App.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport UserRegister from \"./Components/UserRegister\";\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<div className='App'>\r\n\t\t\t<div>\r\n\t\t\t\t<UserRegister />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\UserRegister.js",["48"],"import axios from \"axios\";\r\nimport React, { Component, Fragment } from \"react\";\r\nimport NotesForm from \"./ceva1\";\r\n\r\nclass UserRegister extends Component {\r\n\tstate = {\r\n\t\tname: \"\",\r\n\t\tpassword: \"\",\r\n\t\temail: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t\tregistered: false,\r\n\t\tloggedIn: null,\r\n\t};\r\n\r\n\t//luam referintele pentru inputuri pentru a le reseta valorile\r\n\tinputNameRegister = React.createRef();\r\n\tinputEmailRegister = React.createRef();\r\n\tinputPasswordRegister = React.createRef();\r\n\tinputConfirmPasswordRegister = React.createRef();\r\n\r\n\tinputEmailLogin = React.createRef();\r\n\tinputPasswordLogin = React.createRef();\r\n\r\n\tchangeForm = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\t//daca intram pe login\r\n\t\tif (this.state.registered === false) {\r\n\t\t\tthis.setState({ registered: true });\r\n\r\n\t\t\tthis.inputNameRegister.current.value = \"\";\r\n\t\t\tthis.inputConfirmPasswordRegister.current.value = \"\";\r\n\t\t\tthis.inputEmailRegister.current.value = \"\";\r\n\t\t\tthis.inputPasswordRegister.current.value = \"\";\r\n\t\t} else {\r\n\t\t\t//daca intram pe register\r\n\t\t\tthis.setState({ registered: false });\r\n\r\n\t\t\tthis.inputEmailLogin.current.value = \"\";\r\n\t\t\tthis.inputPasswordLogin.current.value = \"\";\r\n\t\t}\r\n\t};\r\n\r\n\thandleNameChange = (event) => {\r\n\t\tthis.setState({ name: event.target.value });\r\n\t};\r\n\thandlePasswordChange = (event) => {\r\n\t\tthis.setState({ password: event.target.value });\r\n\t};\r\n\thandleEmailChange = (event) => {\r\n\t\tthis.setState({ email: event.target.value });\r\n\t};\r\n\thandleConfirmPasswordChange = (event) => {\r\n\t\tthis.setState({ confirmPassword: event.target.value });\r\n\t};\r\n\r\n\thandleRegister = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst user = {\r\n\t\t\tname: this.state.name,\r\n\t\t\tpassword: this.state.password,\r\n\t\t\temail: this.state.email,\r\n\t\t\tconfirmPassword: this.state.confirmPassword,\r\n\t\t};\r\n\r\n\t\tconsole.log(user);\r\n\r\n\t\t// axios.post(\"http://localhost:9999/create-user\", {user})\r\n\t\t// .then(res => {\r\n\t\t//     console.log(res);\r\n\t\t//     console.log(res.data);\r\n\t\t// }).catch(err => {\r\n\t\t//     console.log(err.response)\r\n\t\t// });\r\n\r\n\t\tconst requestOptions = {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\tbody: JSON.stringify({ name: this.state.name, password: this.state.password, email: this.state.email, confirmPassword: this.state.confirmPassword }),\r\n\t\t};\r\n\t\tfetch(\"http://localhost:9999/create-user\", requestOptions).then(async (response) => {\r\n\t\t\tawait response.json();\r\n\t\t\tconsole.log(response);\r\n\t\t\tif (response.status === 201) {\r\n\t\t\t\talert(\"Cont inregistrat\");\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Something went bad\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\thandleLogin = async (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst user = {\r\n\t\t\tpassword: this.state.password,\r\n\t\t\temail: this.state.email,\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tconst resp = await axios.post(\"http://localhost:9999/login\", { password: this.state.password, email: this.state.email });\r\n\t\t\tthis.setState({ loggedIn: resp.data[\"id\"] });\r\n\t\t} catch (err) {\r\n\t\t\t// Handle Error Here\r\n\t\t\tconsole.error(err);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.loggedIn ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<NotesForm idLogat={this.state.loggedIn} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<section className='login'>\r\n\t\t\t\t\t\t<div className='loginContainer'>\r\n\t\t\t\t\t\t\t{this.state.registered ? (\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tEmail:\r\n\t\t\t\t\t\t\t\t\t\t<input ref={this.inputEmailLogin} type='text' name='emailLogin' onChange={this.handleEmailChange}></input>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tPassword:\r\n\t\t\t\t\t\t\t\t\t\t<input ref={this.inputPasswordLogin} type='text' name='passwordLogin' onChange={this.handlePasswordChange}></input>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<button onClick={this.handleLogin}>Login</button>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tName:\r\n\t\t\t\t\t\t\t\t\t\t<input ref={this.inputNameRegister} type='text' name='nameRegister' onChange={this.handleNameChange}></input>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tEmail:\r\n\t\t\t\t\t\t\t\t\t\t<input ref={this.inputEmailRegister} type='text' name='emailRegister' onChange={this.handleEmailChange}></input>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tPassword:\r\n\t\t\t\t\t\t\t\t\t\t<input ref={this.inputPasswordRegister} type='text' name='passwordRegister' onChange={this.handlePasswordChange}></input>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\tConfirm Password:\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tref={this.inputConfirmPasswordRegister}\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tname='confirmPasswordRegister'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleConfirmPasswordChange}></input>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<button onClick={this.handleRegister}>Register</button>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<div className='btnContainer'>\r\n\t\t\t\t\t\t\t\t{this.state.registered ? (\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tDon't have an account?<span onClick={this.changeForm}>Sign up</span>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tHave an account?<span onClick={this.changeForm}>Sign in</span>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default UserRegister;\r\n","D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\ceva1.js",[],"D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\NoteAddForm.js",[],"D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\NoteDetails.js",["49"],"import React from 'react'\r\nimport store from './NoteStore'\r\n\r\nconst SERVER ='http://localhost:9999'\r\n \r\nclass NoteDetails extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n        note: []\r\n      }\r\n  }\r\n\r\n  componentDidMount(){\r\n    store.getOne(this.props.idNote)\r\n\r\n    store.emitter.addListener('GET_NOTE_SUCCESS', () => {\r\n      this.setState({\r\n        note: store.data\r\n      })\r\n      //console.log('succes get_note')\r\n      //console.log()\r\n    })\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className=\"menu\">\r\n        <div>{'Titlu: ' + this.state.note.title}</div>\r\n        <div>{'Materie: ' + this.state.note.subject}</div>\r\n        <div>{'TEXT: ' + this.state.note.text}</div>\r\n       \r\n      </div>\r\n    )\r\n  }\r\n}\r\n \r\nexport default NoteDetails\r\n      \r\n      ","D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\NoteStore.js",[],"D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\FileUpload.js",["50","51"],"D:\\fac\\An 3 sem 1\\Tehnologii web\\diverse\\ProiectWEB\\frontend\\src\\Components\\FileStore.js",["52","53","54"],"import {EventEmitter} from 'fbemitter'\r\nconst Fs = require('fs')  \r\nconst Path = require('path')  \r\nconst axios = require('axios')\r\n\r\nconst SERVER ='http://localhost:9999'\r\n\r\nclass FileStore{\r\n    constructor(){\r\n        this.data=[]\r\n        this.emitter = new EventEmitter()\r\n    }\r\n\r\n    async getAll(id){\r\n        try{\r\n            const response = await fetch(`${SERVER}/${id}/files`)\r\n            const data = await response.json()\r\n            this.data = data\r\n            this.emitter.emit('GET_FILES_SUCCESS')\r\n        }\r\n        catch(err){\r\n            //console.warn(err)\r\n            this.emitter.emit('GET_PLANES_ERROR')\r\n        }\r\n    }\r\n\r\n    async addOne(file,idNote){\r\n        console.log(\"mergi fa\")\r\n        try{\r\n            await fetch(`${SERVER}/${idNote}/create-file`,{\r\n                method: 'post',\r\n                headers:{\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body:JSON.stringify(file)\r\n            })\r\n            //this.getAll(idNote)\r\n        }catch(err){\r\n            console.warn(err)\r\n            this.emitter.emit('ADD_FIle_CREATE_ERROR')\r\n        }\r\n    }\r\n\r\n    async getOne(id){\r\n        try{\r\n            const response = await fetch(`${SERVER}/file/${id}`)\r\n            const data = await response.json()\r\n            this.data = data\r\n            this.emitter.emit('GET_NOTE_SUCCESS')\r\n            console.log(this.data)\r\n        }\r\n        catch(err){\r\n            console.warn(err)\r\n            this.emitter.emit('GET_NOTE_ERROR')\r\n        }\r\n    }\r\n\r\n    async saveOne(id, plane){\r\n\r\n    }\r\n\r\n    async deleteOne(id){\r\n\r\n    }\r\n\r\n    async Download(fila){\r\n        // const url=e.link;\r\n\t\t// \tconst path = Path.resolve(__dirname, 'dowload', e.name)\r\n\t\t// \tconst writer = Fs.createWriteStream(path)\r\n\r\n\t\t// \tconst response = await axios({\r\n\t\t// \t\turl,\r\n\t\t// \t\tmethod: 'GET',\r\n\t\t// \t\tresponseType: 'stream'\r\n\t\t// \t})\r\n\r\n\t\t// \tresponse.data.pipe(writer)\r\n\r\n\t\t// \treturn new Promise((resolve, reject) => {\r\n\t\t// \t\twriter.on('finish', resolve)\r\n\t\t// \t\twriter.on('error', reject)\r\n        // \t})\r\n        try{\r\n            fetch(`${SERVER}/downloadFile/${fila.id}`,{\r\n                method: 'get',\r\n                headers:{\r\n                    \"Content-Type\": \"application/octet-stream\",\r\n                    \"Content-Disposition\" : \"attachment; filename=\" + fila.name             \r\n                }\r\n            })\r\n            .catch((err)=>{\r\n                console.warn(err);\r\n            })\r\n            //this.getAll(idNote)\r\n        }catch(err){\r\n            console.warn(err)\r\n            this.emitter.emit('ADD_FIle_DOWNLOAD_ERROR')\r\n        }\r\n    }\r\n}\r\n\r\nconst filestore = new FileStore()\r\n\r\nexport default filestore",{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","severity":1,"message":"60","line":2,"column":17,"nodeType":"61","messageId":"62","endLine":2,"endColumn":25},{"ruleId":"59","severity":1,"message":"63","line":2,"column":27,"nodeType":"61","messageId":"62","endLine":2,"endColumn":36},{"ruleId":"59","severity":1,"message":"64","line":3,"column":8,"nodeType":"61","messageId":"62","endLine":3,"endColumn":13},{"ruleId":"59","severity":1,"message":"65","line":95,"column":9,"nodeType":"61","messageId":"62","endLine":95,"endColumn":13},{"ruleId":"59","severity":1,"message":"66","line":4,"column":7,"nodeType":"61","messageId":"62","endLine":4,"endColumn":13},{"ruleId":"59","severity":1,"message":"67","line":6,"column":5,"nodeType":"61","messageId":"62","endLine":6,"endColumn":11},{"ruleId":"59","severity":1,"message":"68","line":35,"column":10,"nodeType":"61","messageId":"62","endLine":35,"endColumn":13},{"ruleId":"59","severity":1,"message":"69","line":2,"column":7,"nodeType":"61","messageId":"62","endLine":2,"endColumn":9},{"ruleId":"59","severity":1,"message":"70","line":3,"column":7,"nodeType":"61","messageId":"62","endLine":3,"endColumn":11},{"ruleId":"59","severity":1,"message":"71","line":4,"column":7,"nodeType":"61","messageId":"62","endLine":4,"endColumn":12},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'axios' is defined but never used.","'user' is assigned a value but never used.","'SERVER' is assigned a value but never used.","'retard' is assigned a value but never used.","'res' is assigned a value but never used.","'Fs' is assigned a value but never used.","'Path' is assigned a value but never used.","'axios' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]